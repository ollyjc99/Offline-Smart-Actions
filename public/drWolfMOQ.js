function runAction(c){const{data:{record:{Type:d},related:{Product2:l,OrderItem:f,Account:[i]},record:n},data:e}=c;let a=new Map,o=new Array,_=new Array;d!="Return Order"&&(n.RecordType==="0122z000002QGJtAAO"||n.RecordType==="0122z000002QGJtAAO"||n.RecordType==="0122z000002QGJtAAO"||n.RecordType==="0122z000002QGJtAAO")&&(l.forEach(r=>{a.set(r.Id,r)}),a.size&&f.forEach(s),o.length||_.length?(e.error="",y(o,_),e.blockExecution=!0):(e.message="Order validated \u2713",e.updateDeviceData=!0,e.reprice=!0,e.blockExecution=!1)),(i.aforza__Minimum_Order_Amount__c!=null||i.aforza__Minimum_Order_Amount__c!=0)&&n.TotalAmount!=0&&i.aforza__Minimum_Order_Amount__c>n.TotalAmount&&(errorMessage=`Order Total less than Account Minimum Order Amount by -\u20AC${i.aforza__Minimum_Order_Amount__c-n.TotalAmount}`,e.error==null?e.error=errorMessage:e.error+=`

${errorMessage}`);function s(r){let t=a.get(r.Product2Id),u={Id:t.Id,Name:t.Name,Difference:null,Quantity:r.Quantity};(t.DRWO_Minimum_Quantity__c!=null||t.DRWO_Minimum_Quantity__c!=0)&&t.DRWO_Minimum_Quantity__c>r.Quantity&&(u.Difference=r.Quantity-t.DRWO_Minimum_Quantity__c,o.push(u)),(t.DRWO_Maximum_Quantity__c!=null||t.DRWO_Maximum_Quantity__c!=0)&&t.DRWO_Maximum_Quantity__c<r.Quantity&&(u.Difference=r.Quantity-t.DRWO_Maximum_Quantity__c,_.push(u))}function m(r){e.error+=`
\u2717 ${r.Name} ${r.Difference}`}function y(r,t){if(r.length&&(e.error+="Products under Minimum Order Quantity:",r.forEach(m)),t.length){let u="";e.error.length>0&&(u=`

`),e.error+=`${u}Products over Maximum Order Quantity:`,t.forEach(m)}}return c}
