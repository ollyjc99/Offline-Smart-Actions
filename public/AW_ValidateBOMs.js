function runAction(u){const{data:{related:{Product2:s,OrderItem:n,aforza__Relationship_Rule__c:o}},data:c}=u,r=new Map,a=new Map,d=new Set;let f=n.map(e=>e.Product2Id);s.forEach(e=>{f.includes(e.Id)&&e.aforza__Type__c=="Vertriebsst\xFCckliste"&&a.set(e.Id,e)}),o.filter(e=>e.aforza__Target_Product__c!=null&&e.aforza__Source_Product__c!=null),o.forEach(e=>{a.has(e.aforza__Source_Product__c)&&d.add(e.aforza__Target_Product__c)}),s.forEach(e=>{d.has(e.Id)&&a.set(e.Id,e)}),o.forEach(e=>{let t=a.get(e.aforza__Source_Product__c),_=a.get(e.aforza__Target_Product__c);t==null||_==null||(r.has(t.Name)?r.get(t.Name).push(" "+_.Name):r.set(t.Name,[" "+_.Name]))});const l=new Map;for(const[e,t]of r)t.length>1&&l.set(e,t);if(r.size){c.blockExecution=!0,c.error=`There are duplicate products in BOMs:
`;for(const[e,t]of r)c.error+=` - ${e}:${t}
  `}else c.message="BOMs best\xE4tigt \u2713";return u}
