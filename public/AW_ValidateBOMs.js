function runAction(a){const{data:{related:{Product2:i,OrderItem:l,aforza__Relationship_Rule__c:c}},data:r}=a,o=new Map,s=new Map,u=new Set,n=l.filter(e=>e.aforza__Type__c=="Vertriebsst\xFCckliste");if(!n.length)return r.message="Bestellung best\xE4tigt \u2713",a;const d=new Set(n.map(e=>e.Product2Id));c.filter(e=>e.aforza__Target_Product__c!=null&&e.aforza__Source_Product__c!=null),c.forEach(e=>{d.has(e.aforza__Target_Product__c)&&u.add(e.aforza__Source_Product__c)}),i.forEach(e=>{(u.has(e.Id)||d.has(e.Id))&&s.set(e.Id,e)}),c.forEach(e=>{let t=s.get(e.aforza__Source_Product__c),f=s.get(e.aforza__Target_Product__c);o.has(t.Name)?o.get(t.Name).push(" "+f.Name):o.set(t.Name,[" "+f.Name])});const _=new Map;for(const[e,t]of o)t.length&&_.set(e,t);if(_){r.blockExecution=!0,r.error=`There are duplicate products in BOMs:
`;for(const[e,t]of _)r.error+=` - ${e}:${t}
  `}else r.message="BOMs best\xE4tigt \u2713";return a}
